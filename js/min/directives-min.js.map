{"version":3,"file":"directives-min.js","sources":["../directives.js","../directives/addWindows.js","../directives/drawRoom.js","../directives/specifyWalls.js"],"names":["directives","angular","module","directive","version","scope","elm","attrs","text","restrict","notifyDone","link","element","$window","init3DRoom","roomViewWidth","roomView","width","roomViewHeight","height","camera","THREE","PerspectiveCamera","position","y","z","controls","OrbitControls","addEventListener","render","maxPolarAngle","Math","PI","minDistance","maxDistance","scene","Scene","geometry","PlaneGeometry","material","MeshBasicMaterial","color","side","DoubleSide","plane","Mesh","rotation","x","add","projector","Projector","mouse2D","Vector3","ambientLight","AmbientLight","directionalLight","DirectionalLight","normalize","renderer","WebGLRenderer","setClearColor","setSize","append","domElement","sortedLines","currentRoom","roomNormalisedLines","room","constructRoom","thickness","_3DwallHeight","idx","currentLine","currentIdx","blue","gray","parent","objects","boundingBox","Box3","setFromObject","boundingDeltaX","max","min","boundingDeltaY","boundingDeltaZ","_3DscaleFactor","scale","constructWall","currLine","curr","calculateOuterInnerLines","start","end","wallBSP","ThreeBSP","currWall","x1","y1","z1","x2","y2","z2","x3","y3","z3","tetha","atan","currWallParent","children","i","windows","length","left","top","outerWidth","_2DscaleFactor","outerHeight","p1p2x","p1p2y","p1p2z","p1p3x","p1p3y","p1p3z","leftPos","innerWallWidth","topPos","innerWallHeight","v3x1","v3y1","v3z1","boxGeo","BoxGeometry","MeshLambertMaterial","mesh","overdraw","set","animate","requestAnimationFrame","update","delta","clock","getDelta","mainObj","$","undoStack","isDragging","offsetTop","offset","offsetLeft","Clock","doneAnimate","ceilingHeight","gridSize","minWidth","minHeight","done","undo","clear","next","isDown","wallWidth","_2DwallHeight","currentExternal","externalWallsIndexes","deltaTop","deltaLeft","remove","Object3D","floor","topLeftX","topLeftY","startX","startY","endX","endY","mainWall","css","appendTo","windowsContainer","right","bottom","droppable","accept","activeClass","drop","e","ui","draggable","removeAttr","push","clone","prop","wallWindow","touchMouseEvent","normalizeEvent","eventX","pageX","eventY","pageY","tempTop","tempLeft","tempHeight","tempWidth","drag","stop","self","this","itemWidth","itemHeight","resizable","revert","on","pop","getMidPoint","displayMessage","message","lineIntersect","x4","y4","isNaN","polygonArea","points","area","numPoints","j","normalizePoint","abs","pow","unitPerGrid","toFixed","coord","getLineIntersection","sourceX","sourceY","destX","destY","intersect","lines","line","open","id","currentStartPoint","slopeDest","slopeOrigin","getLength","sqrt","isMatchPoint","retPoint","point","currentStart","met","touchRadius","onResize","main","resize","tempRenderer","actualRenderer","animationRenderer","isDone","startTime","time","Date","getTime","c","forward","animationRadius","renderTouchPoint","metFill","metStroke","touchFill","touchStroke","onThePathPoints","dashed","dashedMax","d","align","drawLine","requestAnimFrame","bluerawLines","blackStroke","renderText","unitText","mid","pi2","lastX","lastY","startXTile","startYTile","destXTile","destYTile","isFirst","isValidLine","radius","strokeWidth","excessTop","excessLeft","invalidStartPoint","lineWidth","isPoly","Renderer","canvas","context","getContext","tilesize","prototype","fill","stroke","ctx","beginPath","setLineDash","arc","fillStyle","strokeStyle","renderRoundedRectangle","w","h","rad","r","b","moveTo","lineTo","quadraticCurveTo","getWidth","getHeight","renderMap","rows","cols","vertical","gridColor","horizontal","midX","midY","renderBackground","save","textLen","white","font","textAlign","fillText","restore","toX","toY","clearRect","document","window","status","background","querySelector","temp","actual","animation","innerWidth","innerHeight","callback","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","preventDefault","tempArray","pathCrossed","destPoint","len","midPoint","invalidStroke","copy","isIntersectionPoint","endPoint","external","walls","direction","show","stash","center","getCentroid","sort","a","det","d1","d2","startIdx","getPointIdx","endIdx","nextLine","splice","roomLines","roomPoints","normalisedLines","normalisedPoints","centroid","roomNormalisedPoints","hide","toDegree","radian","init","container","createElement","appendChild","wallHeight","scaleFactor","onDocumentMouseDown","onWindowResize","aspect","updateProjectionMatrix","onDocumentMouseMove","event","clientX","clientY","raycaster","pickingRay","intersects","intersectObjects","object","noOfExternal","saveToLocalStorage","stats","lineMaterial","mouse3D","theta","isShiftDown","isCtrlDown","target","normalMatrix","Matrix3","lineHeight"],"mappings":"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"}